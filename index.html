<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Will You Marry Me? üíç | For Chetan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Arial', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            overflow-x: hidden;
            padding: 10px;
            transition: background 0.8s ease;
            min-height: 100vh;
            color: white;
            touch-action: manipulation;
        }
        
        .page-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 15px 0;
            width: 100%;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.98);
            border-radius: 18px;
            padding: 25px 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            text-align: center;
            width: 100%;
            border: 4px solid #e0aaff;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            z-index: 2;
            margin-bottom: 25px;
        }
        
        h1 {
            color: #9d4edd;
            font-size: clamp(1.8rem, 6vw, 2.6rem);
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            font-weight: 800;
            line-height: 1.2;
            padding: 0 5px;
        }
        
        .ring-emoji {
            font-size: clamp(2rem, 6vw, 2.8rem);
            margin: 0 5px;
            animation: ringSpin 8s linear infinite;
            display: inline-block;
        }
        
        @keyframes ringSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .name-highlight {
            color: #7b2cbf;
            font-size: clamp(2rem, 6.5vw, 3rem);
            font-weight: 900;
            margin: 12px 0;
            text-transform: capitalize;
            position: relative;
            display: inline-block;
            padding: 0 10px;
            background: linear-gradient(135deg, #f9c5ff, #e0aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }
        
        .name-highlight::before, .name-highlight::after {
            content: "üíç";
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: clamp(1.3rem, 4vw, 2rem);
            opacity: 0.9;
        }
        
        .name-highlight::before {
            left: -20px;
        }
        
        .name-highlight::after {
            right: -20px;
        }
        
        .question {
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            color: #555;
            margin-bottom: 25px;
            font-weight: 600;
            line-height: 1.5;
            background: rgba(240, 230, 255, 0.95);
            padding: 15px 12px;
            border-radius: 10px;
            border-left: 3px solid #9d4edd;
            border-right: 3px solid #9d4edd;
            margin-top: 8px;
        }
        
        .buttons-section {
            background: rgba(255, 245, 255, 0.97);
            border-radius: 14px;
            padding: 20px 12px;
            margin: 20px 0;
            box-shadow: inset 0 0 10px rgba(157, 78, 221, 0.1);
            position: relative;
            min-height: 220px;
            transition: all 0.3s ease;
            border: 2px solid #e0aaff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .buttons-section-title {
            color: #9d4edd;
            font-size: clamp(1rem, 3.5vw, 1.3rem);
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            text-align: center;
        }
        
        .buttons-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 5px;
            position: relative;
            width: 100%;
            min-height: 160px;
        }
        
        .proposal-btn {
            padding: 16px 25px;
            font-size: clamp(1.1rem, 4vw, 1.4rem);
            border: none;
            border-radius: 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            z-index: 10;
            letter-spacing: 0.5px;
            touch-action: manipulation;
            -webkit-appearance: none;
            appearance: none;
            min-height: 55px;
            margin: 5px 0;
        }
        
        .yes-btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border: 3px solid #1B5E20;
            order: 1;
        }
        
        .yes-btn:active, .yes-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 18px rgba(76, 175, 80, 0.25);
            background: linear-gradient(135deg, #2E7D32, #1B5E20);
        }
        
        .yes-btn:disabled {
            opacity: 0.9;
            cursor: default;
        }
        
        .no-btn {
            background: linear-gradient(135deg, #f44336, #c62828);
            color: white;
            transition: all 0.3s ease;
            border: 3px solid #b71c1c;
            z-index: 20;
            order: 2;
            position: relative !important;
            left: 0 !important;
            top: 0 !important;
            transform: none !important;
        }
        
        .no-btn:active, .no-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 18px rgba(244, 67, 54, 0.25);
        }
        
        .no-btn.moving {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .heart, .ring {
            color: #ff4081;
            font-size: clamp(1.2rem, 4vw, 1.6rem);
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }
        
        .ring {
            animation: ringGlow 2s infinite;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.2); }
            10% { transform: scale(1.1); }
            15% { transform: scale(1.3); }
            50% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        
        @keyframes ringGlow {
            0% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.1); filter: brightness(1.3); }
            100% { transform: scale(1); filter: brightness(1); }
        }
        
        .message-container {
            margin-top: 20px;
            padding: 18px 12px;
            border-radius: 10px;
            background: linear-gradient(135deg, rgba(240, 230, 255, 0.95), rgba(255, 240, 245, 0.95));
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s ease;
            border: 2px solid #9d4edd;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.06);
        }
        
        .message {
            font-size: clamp(1rem, 3.5vw, 1.3rem);
            color: #666;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
            line-height: 1.4;
            padding: 0 5px;
        }
        
        .success {
            color: #4CAF50;
            font-size: clamp(1.3rem, 4.5vw, 1.8rem);
            font-weight: bold;
            animation: celebrate 0.8s infinite alternate;
            text-shadow: 0 0 6px rgba(76, 175, 80, 0.2);
            line-height: 1.3;
        }
        
        @keyframes celebrate {
            from { transform: scale(1); text-shadow: 0 0 6px rgba(76, 175, 80, 0.2); }
            to { transform: scale(1.04); text-shadow: 0 0 10px rgba(76, 175, 80, 0.3); }
        }
        
        .counter-container {
            margin-top: 15px;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            display: inline-block;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.06);
            border: 2px solid #e0aaff;
            max-width: 90%;
        }
        
        .attempt-counter {
            color: #777;
            font-size: clamp(0.95rem, 3vw, 1.1rem);
            font-weight: 600;
            text-align: center;
            line-height: 1.4;
        }
        
        .counter-number {
            color: #9d4edd;
            font-weight: 800;
            font-size: clamp(1rem, 3.5vw, 1.3rem);
        }
        
        .footer {
            margin-top: 25px;
            color: #fff;
            font-size: clamp(0.95rem, 3vw, 1.1rem);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding-top: 15px;
            border-top: 1px solid rgba(224, 170, 255, 0.2);
            text-shadow: 0 0 5px rgba(224, 170, 255, 0.3);
            text-align: center;
            flex-wrap: wrap;
        }
        
        .hearts-background {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        
        .floating-heart, .floating-ring {
            position: absolute;
            font-size: clamp(14px, 3.5vw, 20px);
            animation: float 10s linear infinite;
            opacity: 0.6;
        }
        
        .floating-ring {
            animation: floatRing 12s linear infinite;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes floatRing {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            50% {
                transform: rotate(180deg) scale(1.1);
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) rotate(360deg) scale(1);
                opacity: 0;
            }
        }
        
        /* Scrollable content sections */
        .scroll-content {
            margin-top: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }
        
        .content-card {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 14px;
            padding: 20px 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            border: 3px solid #e0aaff;
            transition: all 0.3s ease;
            text-align: left;
            width: 100%;
        }
        
        .content-card h2 {
            color: #7b2cbf;
            font-size: clamp(1.3rem, 4vw, 1.6rem);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 2px solid #e0aaff;
            padding-bottom: 8px;
            line-height: 1.3;
        }
        
        .content-card p {
            color: #555;
            font-size: clamp(0.95rem, 3vw, 1.1rem);
            line-height: 1.5;
            margin-bottom: 12px;
        }
        
        .content-card ul {
            text-align: left;
            padding-left: 18px;
            color: #666;
            font-size: clamp(0.9rem, 2.8vw, 1.05rem);
            line-height: 1.6;
        }
        
        .content-card li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 6px;
        }
        
        .content-card li:before {
            content: "üíï";
            position: absolute;
            left: -18px;
            font-size: 0.9rem;
        }
        
        .proposal-ring {
            text-align: center;
            margin: 20px auto;
            max-width: 100%;
            width: 100%;
        }
        
        .ring-display {
            width: clamp(140px, 45vw, 200px);
            height: clamp(140px, 45vw, 200px);
            margin: 0 auto 15px;
            background: radial-gradient(circle, #fff 0%, #f9f0ff 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(224, 170, 255, 0.4);
            border: 5px solid #e0aaff;
            animation: ringPulse 4s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .ring-display:before {
            content: "";
            position: absolute;
            width: clamp(160px, 50vw, 230px);
            height: clamp(160px, 50vw, 230px);
            background: conic-gradient(transparent, #9d4edd, transparent);
            animation: rotate 3s linear infinite;
        }
        
        .ring-display:after {
            content: "üíç";
            font-size: clamp(60px, 18vw, 100px);
            position: relative;
            z-index: 2;
            animation: ringFloat 3s ease-in-out infinite;
        }
        
        @keyframes ringPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(224, 170, 255, 0.4); }
            50% { box-shadow: 0 0 35px rgba(224, 170, 255, 0.6); }
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes ringFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }
        
        .ring-message {
            color: white;
            font-size: clamp(1rem, 3.5vw, 1.3rem);
            margin-top: 15px;
            text-shadow: 0 0 5px rgba(224, 170, 255, 0.4);
            background: rgba(157, 78, 221, 0.15);
            padding: 12px 10px;
            border-radius: 8px;
            border: 2px solid #e0aaff;
            line-height: 1.4;
        }
        
        .scroll-indicator {
            text-align: center;
            margin-top: 15px;
            color: #e0aaff;
            font-size: clamp(0.95rem, 3vw, 1.1rem);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            animation: bounce 2s infinite;
            text-shadow: 0 0 5px rgba(224, 170, 255, 0.4);
        }
        
        .scroll-indicator i {
            font-size: clamp(1.3rem, 4vw, 1.8rem);
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-6px);}
            60% {transform: translateY(-3px);}
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #9d4edd;
            top: -10px;
            z-index: 1000;
            opacity: 0;
            border-radius: 50%;
        }
        
        /* Button instructions */
        .instructions {
            color: #9d4edd;
            font-size: clamp(0.85rem, 2.8vw, 1rem);
            margin-top: 10px;
            font-style: italic;
            font-weight: 600;
            text-shadow: 0 0 3px rgba(224, 170, 255, 0.3);
            text-align: center;
            padding: 0 10px;
        }
        
        /* Tablet and larger mobile screens */
        @media (min-width: 481px) {
            .container {
                padding: 30px 25px;
                border-radius: 20px;
            }
            
            .buttons-container {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 20px;
                min-height: 140px;
            }
            
            .proposal-btn {
                min-width: 180px;
                width: auto;
                padding: 18px 35px;
            }
            
            .no-btn {
                position: absolute !important;
                width: auto;
            }
            
            .scroll-content {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .content-card:last-child {
                grid-column: span 2;
            }
            
            body {
                padding: 15px;
            }
        }
        
        /* Desktop and larger tablets */
        @media (min-width: 769px) {
            .container {
                padding: 40px 35px;
                border-radius: 24px;
            }
            
            .buttons-container {
                flex-direction: row;
                gap: 40px;
                min-height: 150px;
            }
            
            .proposal-btn {
                min-width: 200px;
                width: auto;
                padding: 20px 45px;
                font-size: 1.4rem;
            }
            
            .no-btn {
                position: absolute !important;
                width: auto;
            }
            
            .scroll-content {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 25px;
            }
            
            .content-card:last-child {
                grid-column: span 1;
            }
            
            body {
                padding: 20px;
            }
        }
        
        /* Very small mobile screens */
        @media (max-width: 360px) {
            .container {
                padding: 20px 12px;
            }
            
            .proposal-btn {
                width: 95%;
                padding: 14px 20px;
                font-size: 1.1rem;
                min-height: 50px;
            }
            
            .ring-display {
                width: 120px;
                height: 120px;
            }
            
            .ring-display:after {
                font-size: 50px;
            }
            
            .buttons-section {
                min-height: 200px;
            }
        }
        
        /* Landscape orientation */
        @media (max-height: 600px) and (orientation: landscape) {
            .container {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .buttons-section {
                padding: 15px 10px;
                min-height: 140px;
            }
            
            .buttons-container {
                min-height: 110px;
                flex-direction: row;
                gap: 15px;
            }
            
            .proposal-btn {
                padding: 10px 20px;
                font-size: 1.1rem;
                min-height: 45px;
                width: auto;
                min-width: 140px;
            }
            
            .question {
                margin-bottom: 15px;
                padding: 12px;
            }
            
            .ring-display {
                width: 100px;
                height: 100px;
                margin-bottom: 10px;
            }
            
            .ring-display:after {
                font-size: 40px;
            }
        }
        
        /* Fix for iOS Safari */
        @supports (-webkit-touch-callout: none) {
            .proposal-btn {
                padding: 18px 25px;
            }
        }
        
        /* Prevent text size adjustment */
        html {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Focus styles for accessibility */
        .proposal-btn:focus {
            outline: 2px solid #9d4edd;
            outline-offset: 2px;
        }
        
        /* Fix for mobile hover states */
        @media (hover: none) {
            .yes-btn:hover, .no-btn:hover {
                transform: none;
            }
            
            .yes-btn:active, .no-btn:active {
                transform: scale(0.98);
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <div class="container">
            <h1>Will You Marry Me? <span class="ring-emoji">üíç</span></h1>
            <div class="name-highlight">Chetan</div>
            <p class="question">My love, you are the most incredible person I've ever known. I can't imagine my future without you by my side. Will you make me the happiest person in the world and be my partner for life?</p>
            
            <div class="proposal-ring">
                <div class="ring-display"></div>
                <div class="ring-message">This ring represents my eternal love and commitment to you</div>
            </div>
            
            <div class="buttons-section">
                <div class="buttons-section-title">Your Answer Will Change My World</div>
                <div class="buttons-container" id="buttonsContainer">
                    <button class="proposal-btn yes-btn" id="yesBtn">
                        <span class="ring">üíç</span> YES! <span class="ring">üíç</span>
                    </button>
                    <button class="proposal-btn no-btn" id="noBtn">
                        <span class="heart">‚ù§Ô∏è</span> Not Yet <span class="heart">‚ù§Ô∏è</span>
                    </button>
                </div>
                <div class="instructions">The "Not Yet" button is a bit shy... try to catch it!</div>
            </div>
            
            <div class="message-container">
                <div class="message" id="message">Take a deep breath and choose with your heart üíñ</div>
            </div>
            
            <div class="counter-container">
                <div class="attempt-counter" id="attemptCounter">Attempts to click <span class="counter-number">"Not Yet"</span>: <span id="attemptNumber">0</span></div>
            </div>
            
            <div class="scroll-indicator">
                <div>Scroll down to read my promises to you üíï</div>
                <div>üëá</div>
            </div>
        </div>
        
        <!-- Scrollable content sections -->
        <div class="scroll-content">
            <div class="content-card">
                <h2><span class="heart">üíï</span> Why I Want To Marry You</h2>
                <p>You are not just my love, you are my best friend, my confidant, and my greatest supporter. Every day with you feels like a beautiful dream.</p>
                <ul>
                    <li>You accept me completely, flaws and all</li>
                    <li>Your smile lights up my entire world</li>
                    <li>You challenge me to be a better person</li>
                    <li>Our souls connect on a level I never knew possible</li>
                    <li>You make even ordinary moments extraordinary</li>
                    <li>I fall in love with you more every single day</li>
                </ul>
            </div>
            
            <div class="content-card">
                <h2><span class="ring">üíë</span> My Promises To You</h2>
                <p>If you say yes, I promise to dedicate my life to making you as happy as you've made me.</p>
                <ul>
                    <li>To love you unconditionally, every single day</li>
                    <li>To always support your dreams and ambitions</li>
                    <li>To be your safe place in this chaotic world</li>
                    <li>To grow old with you and cherish every moment</li>
                    <li>To work through challenges together, as a team</li>
                    <li>To keep our love alive and passionate forever</li>
                    <li>To build a beautiful life and family together</li>
                </ul>
            </div>
            
            <div class="content-card">
                <h2><span class="heart">üè°</span> Our Future Together</h2>
                <p>I dream of a life filled with love, laughter, and beautiful moments with you.</p>
                <ul>
                    <li>Morning coffee together, every single day</li>
                    <li>Traveling the world and creating memories</li>
                    <li>Building a home filled with love and warmth</li>
                    <li>Growing together through all of life's seasons</li>
                    <li>Creating traditions that are uniquely ours</li>
                    <li>Facing whatever comes our way, hand in hand</li>
                    <li>A love that only grows stronger with time</li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            Made with all my love <span class="heart" style="font-size: 1.2rem;">‚ù§Ô∏è</span> For Chetan, my forever person
        </div>
        
        <div class="hearts-background" id="heartsBackground"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const yesBtn = document.getElementById('yesBtn');
            const noBtn = document.getElementById('noBtn');
            const message = document.getElementById('message');
            const attemptCounter = document.getElementById('attemptNumber');
            const buttonsContainer = document.getElementById('buttonsContainer');
            const heartsBackground = document.getElementById('heartsBackground');
            const body = document.querySelector('body');
            
            let noButtonAttempts = 0;
            let isMoving = false;
            let isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            let isYesClicked = false;
            
            // Create floating hearts and rings in background
            function createFloatingElements() {
                const elementCount = isMobile ? 12 : 18;
                
                for (let i = 0; i < elementCount; i++) {
                    const element = document.createElement('div');
                    element.classList.add(i % 3 === 0 ? 'floating-ring' : 'floating-heart');
                    element.innerHTML = i % 3 === 0 ? 'üíç' : '‚ù§Ô∏è';
                    
                    const leftPos = Math.random() * 100;
                    const animationDuration = 6 + Math.random() * 10;
                    const fontSize = isMobile ? 12 + Math.random() * 16 : 15 + Math.random() * 20;
                    const delay = Math.random() * 8;
                    const colorOpacity = 0.15 + Math.random() * 0.25;
                    
                    element.style.left = `${leftPos}%`;
                    element.style.fontSize = `${fontSize}px`;
                    element.style.animationDuration = `${animationDuration}s`;
                    element.style.animationDelay = `${delay}s`;
                    
                    if (i % 3 === 0) {
                        element.style.color = `rgba(224, 170, 255, ${colorOpacity})`;
                    } else {
                        element.style.color = `rgba(255, 64, 129, ${colorOpacity})`;
                    }
                    
                    heartsBackground.appendChild(element);
                }
            }
            
            createFloatingElements();
            
            // Function to move the "No" button to a random position
            function moveNoButton(e) {
                if (isYesClicked || isMoving) return; // Don't move if "Yes" was already clicked or already moving
                
                isMoving = true;
                noBtn.classList.add('moving');
                
                const buttonWidth = noBtn.offsetWidth;
                const buttonHeight = noBtn.offsetHeight;
                const containerWidth = buttonsContainer.offsetWidth;
                const containerHeight = buttonsContainer.offsetHeight;
                
                // Calculate maximum positions
                const maxX = containerWidth - buttonWidth - 20;
                const maxY = containerHeight - buttonHeight - 20;
                
                // For mobile, use simpler positioning
                let randomX, randomY;
                
                if (window.innerWidth <= 480) {
                    // On mobile, buttons are stacked, so just move within container
                    randomX = Math.max(10, Math.min(Math.floor(Math.random() * maxX), maxX));
                    randomY = Math.max(10, Math.min(Math.floor(Math.random() * maxY), maxY));
                } else {
                    // On larger screens, use random positioning
                    randomX = Math.floor(Math.random() * maxX);
                    randomY = Math.floor(Math.random() * maxY);
                    
                    // Ensure position is within bounds
                    randomX = Math.max(10, Math.min(randomX, maxX));
                    randomY = Math.max(10, Math.min(randomY, maxY));
                }
                
                // Apply new position
                noBtn.style.left = `${randomX}px`;
                noBtn.style.top = `${randomY}px`;
                
                // Update attempts counter
                noButtonAttempts++;
                attemptCounter.textContent = noButtonAttempts;
                
                // Show romantic/funny messages
                const messages = [
                    "My heart only wants you to say YES!",
                    "The YES button is waiting for you!",
                    "Our forever begins with YES!",
                    "Don't make me wait too long, my love!",
                    "Say YES and make all my dreams come true!",
                    "The right answer is glowing green!",
                    "I'm too excited to stand still!",
                    "Choose YES and let's start our forever!",
                    "My love for you is eternal!",
                    "YES will change both our lives!"
                ];
                
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                message.textContent = randomMessage;
                message.style.color = "#9d4edd";
                
                // Change background color slightly for visual feedback
                const hue = Math.floor(Math.random() * 20) + 270;
                body.style.background = `linear-gradient(135deg, hsl(${hue}, 70%, 15%), hsl(${hue}, 70%, 25%), hsl(${hue}, 70%, 35%))`;
                
                // Add a little heart animation
                createMiniHearts();
                
                // Reset moving flag after animation completes
                setTimeout(() => {
                    isMoving = false;
                    noBtn.classList.remove('moving');
                }, 400);
                
                // Prevent default behavior on mobile
                if (e && e.type === 'touchstart') {
                    e.preventDefault();
                }
            }
            
            // Function to create mini hearts
            function createMiniHearts() {
                const heartCount = isMobile ? 2 : 3;
                
                for (let i = 0; i < heartCount; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.innerHTML = '‚ù§Ô∏è';
                        heart.style.position = 'fixed';
                        heart.style.fontSize = isMobile ? '14px' : '16px';
                        heart.style.color = '#ff4081';
                        heart.style.left = `${Math.random() * 100}vw`;
                        heart.style.top = `${75 + Math.random() * 20}vh`;
                        heart.style.zIndex = '1000';
                        heart.style.pointerEvents = 'none';
                        heart.style.opacity = '0.9';
                        heart.style.textShadow = '0 0 5px rgba(255, 255, 255, 0.7)';
                        
                        document.body.appendChild(heart);
                        
                        // Animate the heart
                        const animation = heart.animate([
                            { transform: 'translateY(0) scale(1)', opacity: 1 },
                            { transform: `translateY(${-25 - Math.random() * 50}px) scale(0.3)`, opacity: 0 }
                        ], {
                            duration: 600 + Math.random() * 600,
                            easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                        });
                        
                        // Remove heart after animation
                        animation.onfinish = () => {
                            heart.remove();
                        };
                    }, i * 80);
                }
            }
            
            // Function to handle when "Yes" is clicked
            function handleYesClick() {
                if (isYesClicked) return; // Prevent multiple clicks
                isYesClicked = true;
                
                message.innerHTML = "<span class='success'>YES! You've made me the happiest person in the world! I can't wait to spend forever with you! üíçüéâüíñ</span>";
                
                // Disable both buttons
                yesBtn.disabled = true;
                noBtn.disabled = true;
                noBtn.style.display = 'none';
                
                // Make the yes button bigger and change color
                yesBtn.style.transform = 'scale(1.08)';
                yesBtn.style.background = 'linear-gradient(135deg, #FF9800, #FF5722, #E65100)';
                yesBtn.style.borderColor = '#BF360C';
                yesBtn.style.transition = 'all 0.6s ease';
                yesBtn.style.boxShadow = '0 12px 20px rgba(255, 87, 34, 0.3)';
                yesBtn.innerHTML = '<span class="ring">üíç</span> YES! I WILL MARRY YOU! <span class="ring">üíç</span>';
                yesBtn.style.fontSize = isMobile ? '1.3rem' : '1.5rem';
                yesBtn.style.padding = isMobile ? '20px 30px' : '22px 40px';
                
                // Create celebration effect
                createCelebrationHeartsAndRings();
                launchConfetti();
                createRingShower();
                
                // Change background to celebration mode
                body.style.background = 'linear-gradient(135deg, #4CAF50, #2E7D32, #1B5E20)';
                
                // Update counter message
                attemptCounter.parentElement.innerHTML = `You considered "Not Yet" <span class="counter-number">${noButtonAttempts}</span> times before saying YES to forever! üíï`;
                
                // Scroll to top to show the celebration
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Add a final celebration message
                setTimeout(() => {
                    const finalMessage = document.createElement('div');
                    finalMessage.style.marginTop = '15px';
                    finalMessage.style.fontSize = isMobile ? '1.1rem' : '1.3rem';
                    finalMessage.style.color = '#2E7D32';
                    finalMessage.style.fontWeight = '700';
                    finalMessage.style.textShadow = '0 0 5px rgba(255, 255, 255, 0.5)';
                    finalMessage.style.padding = '12px';
                    finalMessage.style.background = 'rgba(255, 255, 255, 0.9)';
                    finalMessage.style.borderRadius = '8px';
                    finalMessage.style.border = '2px solid #4CAF50';
                    finalMessage.innerHTML = 'Our journey to forever begins now! I love you more than words can express! üíë‚ú®';
                    document.querySelector('.message-container').appendChild(finalMessage);
                }, 1000);
            }
            
            // Function to create celebration hearts and rings
            function createCelebrationHeartsAndRings() {
                const celebrationCount = isMobile ? 18 : 25;
                
                for (let i = 0; i < celebrationCount; i++) {
                    setTimeout(() => {
                        const element = document.createElement('div');
                        element.innerHTML = i % 3 === 0 ? 'üíç' : '‚ù§Ô∏è';
                        element.style.position = 'fixed';
                        element.style.fontSize = `${isMobile ? 14 + Math.random() * 20 : 18 + Math.random() * 30}px`;
                        element.style.color = i % 3 === 0 ? '#e0aaff' : '#ff4081';
                        element.style.left = `${Math.random() * 100}vw`;
                        element.style.top = `${Math.random() * 100}vh`;
                        element.style.zIndex = '1000';
                        element.style.pointerEvents = 'none';
                        element.style.opacity = '0.9';
                        element.style.textShadow = '0 0 8px rgba(255, 255, 255, 0.7)';
                        
                        document.body.appendChild(element);
                        
                        // Animate the element
                        const animation = element.animate([
                            { transform: 'translateY(0) scale(1) rotate(0deg)', opacity: 1 },
                            { transform: `translateY(${-120 - Math.random() * 100}px) scale(0.2) rotate(360deg)`, opacity: 0 }
                        ], {
                            duration: 1600 + Math.random() * 1000,
                            easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                        });
                        
                        // Remove element after animation
                        animation.onfinish = () => {
                            element.remove();
                        };
                    }, i * (isMobile ? 70 : 50));
                }
            }
            
            // Function to create ring shower
            function createRingShower() {
                const ringCount = isMobile ? 6 : 10;
                
                for (let i = 0; i < ringCount; i++) {
                    setTimeout(() => {
                        const ring = document.createElement('div');
                        ring.innerHTML = 'üíç';
                        ring.style.position = 'fixed';
                        ring.style.fontSize = isMobile ? '35px' : '50px';
                        ring.style.color = '#e0aaff';
                        ring.style.left = `${10 + (i * (isMobile ? 12 : 8))}%`;
                        ring.style.top = '-50px';
                        ring.style.zIndex = '999';
                        ring.style.pointerEvents = 'none';
                        ring.style.opacity = '0.9';
                        ring.style.textShadow = '0 0 10px rgba(255, 255, 255, 0.7)';
                        ring.style.filter = 'brightness(1.5)';
                        
                        document.body.appendChild(ring);
                        
                        // Animate the ring falling
                        const animation = ring.animate([
                            { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                            { transform: `translateY(100vh) rotate(720deg)`, opacity: 0 }
                        ], {
                            duration: 1800 + Math.random() * 1000,
                            easing: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',
                            delay: Math.random() * 500
                        });
                        
                        // Remove ring after animation
                        animation.onfinish = () => {
                            ring.remove();
                        };
                    }, i * (isMobile ? 150 : 120));
                }
            }
            
            // Function to launch confetti
            function launchConfetti() {
                const confettiCount = isMobile ? 80 : 120;
                
                for (let i = 0; i < confettiCount; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.classList.add('confetti');
                        
                        // Random colors for confetti
                        const colors = ['#9d4edd', '#4CAF50', '#FF9800', '#2196F3', '#e0aaff', '#ff4081'];
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        
                        // Random position
                        confetti.style.left = `${Math.random() * 100}vw`;
                        
                        // Random size and shape
                        const size = isMobile ? 3 + Math.random() * 8 : 5 + Math.random() * 12;
                        confetti.style.width = `${size}px`;
                        confetti.style.height = `${size}px`;
                        
                        // Random shape
                        if (Math.random() > 0.5) {
                            confetti.style.borderRadius = '50%';
                        } else if (Math.random() > 0.7) {
                            confetti.style.borderRadius = '4%';
                        }
                        
                        document.body.appendChild(confetti);
                        
                        // Animate confetti
                        const animation = confetti.animate([
                            { top: '-10px', opacity: 0, transform: 'rotate(0deg) scale(0.5)' },
                            { top: '10px', opacity: 1, transform: 'rotate(180deg) scale(1)' },
                            { top: '100vh', opacity: 0, transform: 'rotate(360deg) scale(0.5)' }
                        ], {
                            duration: 1500 + Math.random() * 1200,
                            delay: Math.random() * 400,
                            easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                        });
                        
                        // Remove confetti after animation
                        animation.onfinish = () => {
                            confetti.remove();
                        };
                    }, i * (isMobile * 10 : 8));
                }
            }
            
            // Event listeners for buttons
            yesBtn.addEventListener('click', handleYesClick);
            yesBtn.addEventListener('touchstart', function(e) {
                handleYesClick();
                e.preventDefault(); // Prevent double-tap zoom
            }, { passive: false });
            
            // No button events
            noBtn.addEventListener('click', moveNoButton);
            noBtn.addEventListener('touchstart', function(e) {
                moveNoButton(e);
                e.preventDefault(); // Prevent double-tap zoom
            }, { passive: false });
            
            // Mouseover only for desktop
            if (!isMobile) {
                noBtn.addEventListener('mouseover', moveNoButton);
            }
            
            noBtn.addEventListener('focus', moveNoButton);
            
            // Initialize button layout based on screen size
            function initButtonLayout() {
                if (window.innerWidth <= 480) {
                    // Mobile layout - stacked buttons
                    noBtn.style.position = 'relative';
                    noBtn.style.left = '0';
                    noBtn.style.top = '0';
                    buttonsContainer.style.flexDirection = 'column';
                } else {
                    // Desktop/tablet layout - absolute positioning for no button
                    noBtn.style.position = 'absolute';
                    const buttonWidth = noBtn.offsetWidth;
                    const containerWidth = buttonsContainer.offsetWidth;
                    const initialX = Math.min(containerWidth - buttonWidth - 20, 150);
                    const initialY = (buttonsContainer.offsetHeight - noBtn.offsetHeight) / 2;
                    
                    noBtn.style.left = `${initialX}px`;
                    noBtn.style.top = `${initialY}px`;
                    buttonsContainer.style.flexDirection = 'row';
                }
            }
            
            // Initialize and adjust on resize
            initButtonLayout();
            window.addEventListener('resize', initButtonLayout);
            
            // Occasionally move the button even without interaction
            let moveInterval = setInterval(() => {
                // Lower chance on mobile to save battery
                const chance = isMobile ? 0.04 : 0.06;
                if (Math.random() < chance && !isYesClicked && !isMoving && window.innerWidth > 480) {
                    moveNoButton();
                }
            }, isMobile ? 4000 : 3000);
            
            // Clean up interval when yes is clicked
            yesBtn.addEventListener('click', function() {
                clearInterval(moveInterval);
            });
        });
    </script>
</body>
</html>
